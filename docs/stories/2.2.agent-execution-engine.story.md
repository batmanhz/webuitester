# Story 2.2: Agent Execution Engine (V1)

## Description
Implement the core `Agent` class in Python that acts as the execution engine. This version will focus on basic execution: taking a sequence of steps and executing them using Playwright + LLM.

## Acceptance Criteria
1.  **Agent Class**: Create `backend/app/agent/core.py`.
2.  **Initialization**: Agent accepts configuration (LLM provider, API Key).
3.  **Execution Loop**:
    *   Method `execute_case(case: TestCase)`.
    *   Launches Playwright browser (headed or headless).
    *   Navigates to `case.url`.
    *   Iterates through `case.steps`.
4.  **Step Execution**:
    *   For each step, capture the DOM/Screenshot.
    *   Send Instruction + Context to LLM to get the Action (e.g., `click("#btn")`).
    *   Execute the Action via Playwright.
5.  **Basic Reporting**: Return a simple "Pass/Fail" result.

## Technical Notes
*   **Configuration**: Use `backend/config.yaml` to store model configuration (Provider, API Key, Base URL, etc.).
*   **LLM Library**: Use `langchain` or raw `openai` client.
*   **Model Support**: Default to Zhipu AI (`glm-4.6v`) as configured in `config.yaml`.
    *   Base URL: `https://open.bigmodel.cn/api/paas/v4/`
    *   Enable `thinking` parameter for better reasoning.
*   **Browser**: `playwright.async_api`.
*   **Prompting**: Create a system prompt that guides the LLM to output executable actions.
